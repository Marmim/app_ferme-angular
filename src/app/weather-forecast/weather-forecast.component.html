<!-- Composant de sÃ©lection de ferme -->
<app-selected-farm
  [farms]="farms"
  [selectedFarmIndex]="selectedFarmIndex"
  [selectedFarm]="selectedFarm"
  (farmChanged)="onFarmChanged($event)">
</app-selected-farm>
<br><br>

<div class="weekdays-container">
  <div class="weekdays-list">
    <div
      class="weekday"
      *ngFor="let day of weekdays; let i = index"
      (click)="onDaySelected(i)"
      [class.selected]="selectedDayIndex === i"
    >
      {{ day }}
    </div>
  </div>
</div>

<app-weathercards
  [temperature]="weatherData?.data_day?.temperature_max[selectedDayIndex]"
  [relativeHumidity]="weatherData?.data_day?.relativehumidity_mean[selectedDayIndex]"
  [windSpeed]="weatherData?.data_day?.windspeed_mean[selectedDayIndex]"
  [precipitation]="weatherData?.data_day?.precipitation[selectedDayIndex]">
</app-weathercards>

<div class="mt-5 row">
  <div class="col-xl-8">
    <app-weather-chart
      [hourlyData]="{
        temperature: weatherData?.data_1h?.temperature || [],
        relativeHumidity: weatherData?.data_1h?.relativehumidity || []
      }"
      [selectedDayIndex]="selectedDayIndex"
></app-weather-chart>
  </div>
</div>
